class LightMasonry{constructor(t,i={}){if(this.$containerGrid=t,this.options=i,!this.$containerGrid){window.console.error(`[LightMasonry]: Elemento no encontrado: ${this.$containerGrid}`);return}this.limbo=document.createDocumentFragment(),this.column='<div class="light-masonry-column"></div>',this.classItemColumn="light-masonry-item",this.classWrapper="light-masonry-grid",this.classInitialized="light-masonry-initialized",this.dataCallback={},this.finalOptions={defaultColumns:4,resizeDelay:0,responsive:{},init(t){},afterBreakpoint(t){},...this.options},this._prepareContainer(),this._prepareItems(),this._setLayout(),this._getItems(),this._setColumns(),this._setItems(),this._setAttributes(),this._handleEvents(),this.finalOptions.init(this.dataCallback)}_handleEvents(){0===this.finalOptions.resizeDelay?window.addEventListener("resize",()=>{this._setLayout("resize")}):window.addEventListener("resize",this._debounce(()=>{this._setLayout("resize")},this.finalOptions.resizeDelay))}_prepareContainer(){this.$containerGrid.classList.add(this.classWrapper),this.$containerGrid.classList.add(this.classInitialized)}_prepareItems(){let t=Array.from(this.$containerGrid.children);t.forEach((t,i)=>{t.classList.add(this.classItemColumn),t.dataset.index=i})}_setAttributes(){this.$containerGrid.setAttribute("data-breakpoint",this.dataCallback.breakpoint),this.$containerGrid.setAttribute("data-columns",this.dataCallback.columns)}_getItems(){let t=this.$containerGrid.querySelectorAll(".light-masonry-item");t.forEach(t=>{this.limbo.appendChild(t)})}_removeColumns(){this.$containerGrid.querySelectorAll(".light-masonry-column").forEach(t=>{t.remove()})}_setColumns(){for(let t=1;t<=this.dataCallback.columns;t++)this.$containerGrid.insertAdjacentHTML("beforeend",this.column)}_setItems(){let t=Array.from(this.limbo.querySelectorAll(".light-masonry-item"));t.sort((t,i)=>Number(t.dataset.index)-Number(i.dataset.index));let i=this.$containerGrid.querySelectorAll(".light-masonry-column"),s=0;t.forEach(t=>{i[s].appendChild(t),s=(s+1)%this.dataCallback.columns})}_setLayout(t="default"){let i=this.finalOptions.defaultColumns;this.dataCallback.breakpoint="defaultColumns",void 0!==this.finalOptions.responsive&&Object.keys(this.finalOptions.responsive).length>0&&Object.keys(this.finalOptions.responsive).reverse().forEach(t=>{!(window.innerWidth>Number(t))&&(i=this.finalOptions.responsive[t],this.dataCallback.breakpoint=Number(t))}),"resize"===t&&i!==this.dataCallback.columns?(this.dataCallback.columns=i,this._getItems(),this._removeColumns(),this._setColumns(),this._setItems(),this._setAttributes(),this.finalOptions.afterBreakpoint(this.dataCallback)):"default"===t&&(this.dataCallback.columns=i)}_debounce(t,i){let s;return(...e)=>{window.clearTimeout(s),s=window.setTimeout(()=>t.apply(this,e),i)}}}window.LightMasonry=LightMasonry,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=LightMasonry);